<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <title></title>
</head>

<body>
  
  <canvas id="canvas" class="screen"></canvas> 
  <div id="left-keys">
      <div id="key-up" ontouchmove="btn_up()" ontouchstart="btn_up()"></div>
      <div id="key-down" ontouchmove="btn_down()" ontouchstart="btn_down()"></div>
      <div id="key-left" ontouchmove="btn_left()" ontouchstart="btn_left()"></div>
      <div id="key-right" ontouchmove="btn_right()" ontouchstart="btn_right()"></div>
   </div>
  <div id="right-keys">
      <div id="key-x" ontouchmove="btn_x()" ontouchstart="btn_x()"></div>
      <div id="key-o" ontouchmove="btn_o()" ontouchstart="btn_o()"></div>
   </div>
  <script src="pixel-8.js"></script>
  <script>
      
    var url_string = window.location.href;
    var url = new URL(url_string);
    var cart = url.searchParams.get("cart");
    
    if (cart == undefined) {
      cart = 'hello-world';
    }
      
    var script = document.createElement('script');

    script.setAttribute('src','./carts/'+cart+'/main.js');

    document.head.appendChild(script);

    document.onkeydown = checkKey;

    function checkKey(e) {

    e = e || window.event;

    if (e.keyCode == '38') {
      // up arrow2
      btn_up()
    }
    if (e.keyCode == '40') {
      // down arrow3
      btn_down()
    }
    if (e.keyCode == '37') {
      // left arrow0
      btn_left()
    }
    if (e.keyCode == '39') {
      // right arrow1
      btn_right()
    }
    if (e.keyCode == '88') {
      // x button
      btn_x()
    }
    if (e.keyCode == '90') {
      // o button
      btn_o()
    }
  }

  </script>
</body>

</html>
